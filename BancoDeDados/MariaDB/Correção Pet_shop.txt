-- CRIAÇÃO DAS TABELAS COM PK E FKS

/*CREATE TABLE municipio (
cd_municipio INTEGER PRIMARY KEY,
nm_municipio VARCHAR(50),
sg_uf CHAR(2)
);*/

-- ou, e recomendado

CREATE TABLE municipio (
cd_municipio INTEGER,
nm_municipio VARCHAR(50),
sg_uf CHAR(2),
PRIMARY KEY (cd_municipio)
);

CREATE TABLE endereco (
cd_endereco INTEGER,
ds_logradouro VARCHAR(50),
ds_complemento VARCHAR(50),
ds_bairro VARCHAR(30),
nr_cep CHAR(8),
cd_municipio INTEGER, 
PRIMARY KEY (cd_endereco),
FOREIGN KEY (cd_municipio) REFERENCES municipio(cd_municipio)
);

CREATE TABLE categoria (
cd_categoria INTEGER,
ds_categoria VARCHAR(50),
PRIMARY KEY(cd_categoria)
);

CREATE TABLE produto (
cd_produto INTEGER,
nm_produto VARCHAR(50),
ds_produto VARCHAR(50),
vl_custo DECIMAL(8,2),
vl_venda DECIMAL(8,2),
qt_estoque INTEGER,
cd_categoria INTEGER,
PRIMARY KEY(cd_produto),
FOREIGN KEY(cd_categoria) REFERENCES categoria(cd_categoria)
);

CREATE TABLE especie (
cd_especie INTEGER,
mn_especie VARCHAR(30),
PRIMARY KEY(cd_especie)
);

CREATE TABLE raca (
cd_raca INTEGER,
nm_raca VARCHAR(50),
cd_especie INTEGER,
PRIMARY KEY(cd_raca),
FOREIGN KEY (cd_especie) REFERENCES especie(cd_especie)
);

CREATE TABLE servico (
cd_servico INTEGER,
ds_servico VARCHAR(50) NOT NULL,
vl_servico DECIMAL(6,2) NOT NULL,
PRIMARY KEY(cd_servico)
);

-- alterando a definição para não obrigatório
ALTER TABLE servico 
MODIFY COLUMN ds_servico VARCHAR(50);

CREATE TABLE cliente (
cd_cliente INTEGER,
nm_cliente VARCHAR(50),
nr_telefone VARCHAR(15),
ds_email VARCHAR(50),
dt_nascimento DATE,
cd_endereco INTEGER,
PRIMARY KEY(cd_cliente),
FOREIGN KEY(cd_endereco) REFERENCES endereco(cd_endereco)
);

CREATE TABLE animal (
cd_animal INTEGER,
nm_animal VARCHAR(50),
ds_animal VARCHAR(50),
dt_nascimento DATE,
tp_porte CHAR(1),
cd_raca INTEGER,
cd_cliente INTEGER,
PRIMARY KEY(cd_animal),
FOREIGN KEY(cd_raca) REFERENCES raca(cd_raca),
FOREIGN KEY(cd_cliente) REFERENCES cliente(cd_cliente)
);


DESC servico